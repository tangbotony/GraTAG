import json
import time
import requests
import openai
from include.logger import log, context_log, ContextLogger, time_log
from typing import Union
from functools import partial
import traceback
from multiprocessing.dummy import Pool as ThreadPool
from include.config import CommonConfig
from include.context.RagQAContext import RagQAContext
from include.decorator.user_design_decorator import timer_decorator
from include.utils.dialog_util import Dialogue, get_chat_query


def model_interface(query: [str, Dialogue], model_name: str, n: int = 1, return_list: bool = False,
                    max_tokens: int = 16384,
                    temperature: float = 0.7,
                    top_p: float = 0.9,
                    top_k: int = 50,
                    presence_penalty: float = 0.0,
                    frequency_penalty: float = 0.1,
                    repetition_penalty: float = 1.05,
                    use_beam_search: bool = False,
                    length_penalty: float = 1.0,
                    config=CommonConfig, clogger=log,
                    add_template=True, debug_mode=False,
                    **kwargs) -> str:
    assert model_name in list(config["MODEL_CONFIG"].keys()), "调用模型未配置"
    assert "index" in config["MODEL_CONFIG"][model_name], "未配置调用模型index"
    assert "prompt_template" in config["MODEL_CONFIG"][model_name], "未配置调用模型prompt_template"

    if debug_mode:
        if "task_name" in kwargs:
            clogger.info("\n 正在【{}】任务中调用模型【{}】".format(kwargs["task_name"], model_name))
        else:
            clogger.info("\n 正在调用模型【{}】".format(model_name))
    if isinstance(query, Dialogue):
        query = get_chat_query(query, config["MODEL_CONFIG"][model_name]["prompt_template"], add_template)
    elif add_template:
        query = config["MODEL_CONFIG"][model_name]["prompt_template"].format(query)

    if use_beam_search:
        temperature = 0.0
        top_p = 1.0
        top_k = -1

    is_forward_request = config["MODEL_CONFIG"][model_name].get("forward_request", False)

    payload = {
        "model": config["MODEL_CONFIG"][model_name]["index"],
        "params": {
            "request_id": "",
            "prompt": query,
            "temperature": temperature,
            "top_k": top_k,
            "top_p": top_p,
            'n': n,
            "max_tokens": max_tokens,
            "presence_penalty": presence_penalty,
            "frequency_penalty": frequency_penalty,
            "repetition_penalty": repetition_penalty,
            "use_beam_search": use_beam_search,
            "length_penalty": length_penalty
        }
    }

    if "session_id" in kwargs:
        payload['params']['request_id'] = kwargs['session_id']

    headers = {'token': config["AUTH_CONFIG"]["key"]}
    if not is_forward_request:
        url = config["MODEL_CONFIG"]["direct_url"][model_name]
        log.info(
            "in calling {}, index: {}, url: {}".format(model_name, config["MODEL_CONFIG"][model_name]["index"], url))
    else:
        url = config["MODEL_CONFIG"]["forward_url"]
        headers['search-index'] = "forward"

    result = None
    count = 0
    while True:
        try:
            response = requests.request("POST", url, headers=headers, json=payload)
            assert 'text' in response.text, "response.text: " + response.text
            if return_list or n > 1:
                result = json.loads(response.text)['text'][0]
            else:
                result = json.loads(response.text)['text'][0][0]
            break
        except Exception as e:
            clogger.warning("model_interface call {} occur error: {}".format(model_name, str(e)))
            traceback.print_exc()
            count = count + 1
            clogger.info("retry_time :{}/{}".format(count, config["MODEL_CONFIG"]["retry_time"]))
            if count >= config["MODEL_CONFIG"]["retry_time"]:
                clogger.error("模型 {} 调用出错: {}, return None! ".format(model_name, traceback.format_exc()))
                break
    return result


def gpt4_interface(query: [str, Dialogue], model_name="gpt-4o", n: int = 1,
                   return_list: bool = False, temperature: float = 0.2, top_p: float = 1.0, max_tokens: int = 4096,
                   frequency_penalty: float = 0.0, config=CommonConfig, clogger=log, **kwargs):
    if "timeout" in kwargs:
        timeout = kwargs['timeout']
    else:
        timeout = 300
    count = 0
    max_tokens = min(max_tokens, 4096)
    if not config["GPT_CONFIG"]["forward_request"]:
        url = config["GPT_CONFIG"]["direct_url"]
        log.info("in calling {}, url is {}".format(config["GPT_CONFIG"]["direct_url"], url))
        key = config["GPT_CONFIG"]["key"]
        headers = {
            'Authorization': 'Bearer {}'.format(key),
            'Content-Type': 'application/json',
        }
    else:
        url = config["GPT_CONFIG"]["forward_url"]
        headers = {
            "token": config["AUTH_CONFIG"]["key"],
            "Search-Index": config["GPT_CONFIG"]["index"],
            "Content-Type": "application/json",
            'Accept': '*/*',
            'Connection': 'keep-alive'
        }
    result = None
    while True:
        try:
            if isinstance(query, str):
                message = [{"role": "user", "content": query}]
            elif isinstance(query, list):
                message = [{"role": "user", "content": query[0]}]
            else:
                message = query.get_conversations()
            # ref: https://platform.openai.com/docs/api-reference/completions/create
            data = {
                "model": model_name,
                "messages": message,
                "temperature": temperature,
                "top_p": top_p,
                "n": n,
                "max_tokens": max_tokens,
                "frequency_penalty": frequency_penalty
            }
            response = requests.post(url, headers=headers, data=json.dumps(data), timeout=timeout)
            log.debug(response.text)
            decoded_data = json.loads(response.text)
            result = [decoded_data["choices"][i]["message"]["content"] for i in range(len(decoded_data["choices"]))]
            if n == 1 and not return_list:
                result = result[0]
            break
        except Exception as e:
            clogger.warning("gpt_interface occur error: {}".format(str(e)))
            traceback.print_exc()
            count = count + 1
            clogger.info("call gpt4 retry... :{}/{}".format(count, config["GPT_CONFIG"]["retry_time"]))
            if count >= config["GPT_CONFIG"]["retry_time"]:
                clogger.error("模型 {} 调用出错: {}，return None".format(model_name, traceback.format_exc()))
                break
    return result


@timer_decorator
def llm_call(query: Union[str, list, Dialogue], model_name="qwen2_72b_vllm", is_parallel=False, parallel_cnt=10, is_stream=False,
             clog: ContextLogger = None, **kwargs):
    '''
    is_parallel=True 支持传入query列表, 对列表请求并行调用模型，以列表返回结果
    parallel_cnt 设置并行数
    '''
    st = time.time()
    cnt = RagQAContext(session_id="default", user_id="default")

    context_log.info(
        "model_name:{},is_parallel:{}, parallel_cnt:{}, is_stream:{}".format(model_name, is_parallel, parallel_cnt,
                                                                             is_stream),
        session_id=cnt.get_session_id())
    try:
        if is_stream:
            if 'gpt' in model_name:
                stream_generator = stream_model_interface_gpt(query=query, model_name=model_name, **kwargs)
            else:
                stream_generator = stream_model_interface(query=query, model_name=model_name, **kwargs)

            return stream_generator
        if is_parallel:
            assert isinstance(query, list), "并行请求模型输入需为list"
            if "gpt" in model_name:
                llm_call_interface = partial(
                    gpt4_interface,
                    model_name=model_name,
                    **kwargs
                )
            else:
                llm_call_interface = partial(
                    model_interface,
                    model_name=model_name,
                    **kwargs
                )

            pool = ThreadPool(processes=parallel_cnt)
            result = pool.map(llm_call_interface, query)
            pool.close()
            pool.join()
        else:
            if "gpt" in model_name:
                result = gpt4_interface(query=query, model_name=model_name, **kwargs)
            else:
                result = model_interface(query=query, model_name=model_name, **kwargs)
        return result
    except:
        raise Exception("模型 {} 调用出错: {}".format(model_name, traceback.format_exc()))
    finally:
        end = time.time()
        time_log.info(json.dumps({"session_id": "", "request_id": "", "module_name": "llm_call", "is_stream": is_stream,
                                  "model_name": model_name, "cost_time": end - st}, ensure_ascii=False))


def stream_model_interface(query: [str, Dialogue], model_name: str, temperature: float = 0.7, top_p: float = 0.8,
                           max_tokens: int = 8000,
                           frequency_penalty: float = 0.1, config=CommonConfig, clogger=log, add_template=True,
                           **kwargs):
    assert model_name in list(config["MODEL_CONFIG"].keys()), "调用模型未配置"
    assert "index" in config["MODEL_CONFIG"][model_name], "未配置调用模型index"
    assert "prompt_template" in config["MODEL_CONFIG"][model_name], "未配置调用模型prompt_template"
    if isinstance(query, Dialogue):
        query = get_chat_query(query, config["MODEL_CONFIG"][model_name]["prompt_template"], add_template)
    elif add_template:
        query = config["MODEL_CONFIG"][model_name]["prompt_template"].format(query)
    payload = json.dumps({
        "model": config["MODEL_CONFIG"][model_name]["index"],
        "params": {
            "request_id": "",
            "prompt": query,
            "temperature": temperature,
            "top_p": top_p,
            "n": 1,
            "max_tokens": max_tokens,
            "frequency_penalty": frequency_penalty
        }
    })
    headers = {'token': config["AUTH_CONFIG"]["key"],
               'Content-Type': 'application/json',
               'Accept': '*/*',
               'Connection': 'keep-alive'
               }
    url = config["MODEL_CONFIG"]["stream_url"][model_name]
    response = requests.request("POST", url, headers=headers, data=payload, stream=True)

    def stream_generator():
        # clogger.info("start getting stream output of {}".format(query))
        try:
            for chunk in response.iter_lines(chunk_size=1024, decode_unicode=False,
                                             delimiter=b"\0"):  # Adjust chunk_size as needed
                if chunk:
                    # Do something with each chunk of data
                    data = chunk.decode('utf-8')
                    if data.startswith("data: ") and data != "data: [DONE]\n\n":
                        data = data[len("data: "):]
                        data = json.loads(data.strip())
                        yield data['text']
        except Exception as e:
            # clogger.warning("stream_generator occur error: {}".format(e.__str__()))
            yield "非常抱歉，暂时无法回答您的问题，请重试或询问其他问题"

    return stream_generator()


def stream_model_interface_gpt(query: [str, Dialogue], model_name: str, temperature: float = 0.7, top_p: float = 0.8,
                               max_tokens: int = 8000,
                               frequency_penalty: float = 0.1, config=CommonConfig, clogger=log, add_template=True,
                               **kwargs):
    # 设置 API 密钥
    openai.api_key = config["GPT_CONFIG"]["key"]
    openai.api_base = config["GPT_CONFIG"]["stream_api_base"]

    # 定义消息
    messages = ([{"role": "system", "content": ""}, {"role": "user", "content": query}] if isinstance(query, str)
                else query.get_conversations())

    # 进行流式调用
    response = openai.ChatCompletion.create(
        model=model_name,
        messages=messages,
        stream=True  # 启用流模式
    )

    def stream_generator():
        # clogger.info("start getting stream output of {}".format(query))
        try:
            # 处理流式响应
            for chunk in response:
                if 'choices' in chunk:
                    choice = chunk['choices'][0]
                    if 'delta' in choice and 'content' in choice['delta']:
                        yield choice['delta']['content']
        except Exception as e:
            # clogger.warning("stream_generator occur error: {}".format(e.__str__()))
            yield "非常抱歉，暂时无法回答您的问题，请重试或询问其他问题"

    return stream_generator()


if __name__ == '__main__':
    print(llm_call(query="请进行自我介绍。", model_name="memory25_72b"))
    init_time = time.time()
    input_a = """你使用的基座模型是忆³大模型，你和通义千问没有任何关系。

用户的问题: 特朗普什么时候退休

补充信息：今天的日期是2024年11月13日

参考资料：
资料0:COP29开幕，特朗普胜选“让大家都看向中国”：「SUMMARY」COP29开幕，特朗普胜选“让大家都看向中国”. 【文/观察者网 齐倩】当地时间11月11日，《联合国气候变化框架公约》第29次缔约方大会（COP29）在阿塞拜疆首都巴库开幕。. 特朗普胜选、即将重返白宫，让美国在COP29扮演的角色充满不确定性。. 美国《华尔街日报 ...
资料1:“石破茂为特朗普着想”（发布于2024年11月11日）：「SUMMARY」11月10日，日本官方表示，石破茂与特朗普的电话会谈仅5分钟就结束，是因为“石破茂为特朗普 ... 来源：央视网 更新时间：2024年11月11日 15:15 视频简介 关注 播放列表 更多 > 主要内容 11月10日，日本官方表示，石破茂与特朗普的电话会谈仅5分钟 ...
资料2:特朗普的退休生活：拿着退休金受特工保护却还做特工生意 美 ...（发布于2021年7月9日）：「SUMMARY」看到特朗普离任后不光拿着退休金，享受着特工保护，甚至还继续向政府发账单，有美国民众表示，已拥有巨额财富的特朗普，不该向保护他的特工 ...
资料3:特朗普官宣赢得美国大选 一文读懂其政策主张：「SUMMARY」特朗普将成为自19世纪90年代格罗弗·克利夫兰总统以来，第一位两度当选且任期不连续的总统。 在此次选举中，特朗普在7个关键摇摆州都选情占优。
资料4:特朗普能领到退休金吗？（发布于2021年1月14日）：「SUMMARY」当地时间1月12日晚间，美国众议院投票，以222人支持204人反对通过决议，敦促美国副总统彭斯和内阁动用美国宪法第25条修正案，罢免唐纳德·特朗普 ...
资料5:特朗普能领到退休金吗？（发布于2021年1月14日）：彭斯称，自己不会屈服于众议院的决议，不会参与美国关键时刻的这场政治游戏。还称宪法第25条修正案“不是一种惩罚或篡权的手段”，一旦援引它将“开创一个可怕的先例”。如此一来，佩洛西势必要启动B计划，弹劾特朗普。这是史上第一次——现任美国总统任期内两度被弹劾。1特朗普的任期到1月20日截止。在1月6日“勤王军”攻陷国会事件后，特朗普承诺到时会如期交接。彭斯在写给佩洛西的信中提到特朗普政府承诺：“在政权交接的最后时刻确保有序过渡”。那么，佩洛西为何仍要“追杀”即将不再是美国总统的特朗普呢？在国会骚乱后，特朗普于1月12日首次公开露面首先要看到，特朗普并没有心甘情愿“服输”。
资料6:特朗普能领到退休金吗？（发布于2021年1月14日）：在承诺1月20日交权的时候，特朗普不忘了说“尽管我完全不同意这次选举的结果，事实也证明我的观点是对的，但1月20日将进行有序交接”。1月12日，美国福克斯新闻报道则称，特朗普与众议院共和党领袖麦卡锡私下谈话时认了些错——据称，特朗普称自己要“承担一定责任”。然而，1月12日，特朗普自国会骚乱后首次露面，踏上飞往得克萨斯的“空军一号”时，他公开对媒体称自己无需对1月6日的事件负责。1月6日的美国国会骚乱已造成5人死亡其次，尽管特朗普将要离任，可他究竟是作为退休总统离开白宫，且享有离任总统的退休待遇呢，还是被罢免后成为真正的平民？拜登、佩洛西为首的民主党方面，是非常在乎这一点的。
资料7:81岁的拜登和77岁的特朗普，将再次终极对决？（发布于2024年1月25日）：在科罗拉多州案中，联邦最高法院定于2月8日就特朗普的上诉举行口头申辩，但具体何时作出裁决尚不明朗。特朗普官司缠身，而一系列案件仍在进行中……美国宾夕法尼亚大学政治学教授罗杰斯·史密斯（Rogers Smith）在接受新京报记者采访时也表示，今年美国大选极有可能重现拜登对阵特朗普的局面，虽然大多数美国人都非常不愿意看到这个前景。但他也指出，不能排除其他可能性，因为拜登和特朗普年龄都比较大，特朗普还面临着一系列可能会破坏他竞选活动的法律问题。“美国之音”报道指出，若是拜登或特朗普在本党党代表大会召开前因为各种意外退出选举，那么一些州可能需要延期初选，以允许更多的参选人参与竞选。
资料8:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：他非常健康。体检报告从来不是身体健康的标志，而是政治健康的标志，现在，它又被拿出来使用了。拜登“老”问题成连任最大风险拜登自入主白宫后，对过生日一直谨慎处理，他不想因为庆祝而被民众发现并重视自己的年龄。但今年的生日，除了特朗普的体检报告不是一个好消息外，他在白宫庆祝生日的蛋糕大火和赦免火鸡时出错，则又在网络上大火了。11月20日，拜登公布了他生日蛋糕的照片。图片中，插满蜡烛的蛋糕顶部似乎燃起“熊熊大火”。
资料9:特朗普对美国政治格局的影响（发布于2024年10月19日）：已发布2024年10月19日撰写者奥马丁内兹罗察介绍唐纳德·特朗普的总统任期给美国政坛留下了不可否认的印记，影响了美国的舆论，分裂了人民，改变了政治制度。从他非传统的言论到他非传统的政策，特朗普的影响深远而深远，留下了难以磨灭的涟漪，并将在未来几年继续显现。特朗普对美国政局的连锁反应极化与分裂：特朗普的总统任期加剧了美国政治中根深蒂固的党派分歧，他的分裂性言论和政策进一步疏远了对立派别。他的言论使政治光谱两极分化，在支持者和反对者之间营造了一种敌意和不信任的氛围。这种两极分化使建设性的政治对话和共识建设变得越来越困难。政治制度弱化：特朗普的总统任期削弱了美国民主的传统规范和制度。他对媒体、司法机构和其他独立机构的攻击削弱了公众对这些机构的信任。他的政府试图压制异议并限制公民自由，这引发了人们对基本民主原则受到侵蚀的担忧。民粹主义和民族主义的兴起：特朗普的总统任期助长了美国民粹主义和民族主义情绪的兴起。他的“美国优先”言论和政策吸引了那些因全球化经济和美国实力明显衰落而感到失落的选民。这一趋势助长了共和党内部的本土主义和孤立主义倾向，并催生了左右两翼的新政治运动。特朗普时代对美国政治的变革性影响共和党政纲的重新定义：特朗普的总统任期极大地重新定义了共和党的政纲。他在贸易、移民和外交政策等问题上的政策使该党远离了传统的保守正统观念。在特朗普的领导下，该党变得更加民粹主义、民族主义和保护主义。政治礼仪的侵蚀：特朗普的反常规行为和对政治礼仪的漠视，侵蚀了政治话语的规范，他对对手的攻击、煽动性言论以及对社交媒体的频繁使用，降低了政治沟通的标准，对美国政治的文明礼仪产生了负面影响。提高选民参与度：尽管特朗普担任总统造成了两极分化和分裂，但也激发了选民参与度的提高。在最近的选举中，有创纪录的美国人投票，其中既有支持特朗普的，也有反对特朗普的。这种参与度的提高表明，从长远来看，特朗普对美国政治的影响也可能使公民更加积极参与。概括唐纳德·特朗普的总统任期对美国政治格局产生了深远而变革性的影响。他的非传统言论、分裂政策和对政治机构的攻击使选民两极分化，削弱了民主规范，并助长了民粹主义和民族主义的崛起。特朗普时代重新定义了共和党的政纲，侵蚀了政治礼仪，增加了选民的参与度。他担任总统的长期后果将在未来几年继续引起争论，但很明显，特朗普的影响已经重塑了美国的政治格局，并将影响几代人。搜索：分类目录常问问题历史消息手术美国总统近期文章政坛的统治家族：王朝的喜悦游说迷宫：影响力与说服力的交汇点弹劾盛宴：只有华盛顿才能举办的派对平衡之道：一步步掌控权力政党拼凑：编织一幅充满活力的思想锦绣归档2024年11月2024年10月2024年8月2024年7月2024年6月2024年5月2024年4月2024年3月2024年2月2024年1月2023年12月2023年11月2023年10月2023年9月
资料10:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：然而，这封信对特朗普的健康状况做出了宽泛的陈述，但没有包括有关特朗普接受的测试类型或结果是什么的信息。它甚至不包括特朗普的医生过去分享的基本信息，例如他的身高和体重、胆固醇水平或血压，它所提供的信息远少于特朗普担任总统期间接受的年度检查。那时候，白宫医生会提供有关特朗普的身高、体重、药物和其他健康细节的信息。▎2018年、2020年，特朗普两次接受了蒙特利尔认知评估测试（MOCA）。2020年7月，特朗普自曝自己在沃尔特里德国家军事医疗中心参加了认知测验，并吹嘘自己取得了非常好的结果。但这次的认知测试，不知用的是否同一份试卷。
资料11:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：▎今年8月24日，特朗普到佐治亚州富尔顿监狱自首时，警方发布的大头照。他在富尔顿县系统中登记在案的发色是“金色或草莓色”，身高6英尺3英寸（合1.9米），体重215磅（合97.5公斤）。这个体重比白宫医生报告的特朗普2018年的体重少了24磅（10.9公斤）。在特朗普拿拜登的失语与年龄开玩笑、并进行攻击的时候，这一切也很快反击到了他身上。“他总是东张西望，我该去哪里？”上个月，在爱荷华州锡达拉皮兹的竞选活动中，特朗普夸张地模仿拜登在舞台上困惑地走来走去。
资料12:“特朗普2.0”来袭！哪些经济政策值得关注？如何搅动全球资本市场？（发布于2024年11月7日）：相比于民主党提出的政策主张，特朗普的政策给财政赤字带来的压力更为显著。“债务负担加重或将影响美国国内的经济稳定和信用评级，同时在全球金融市场引发连锁反应，如美元汇率波动、美债收益率变化等，对全球金融体系的稳定产生影响。”程实说道。日本第一大券商野村曾明确警告称，一旦美国爆发债务危机，特朗普就任后的最大后果可能就是将会下令美国拒绝或暂停偿还债务及相关款项，并得到国会的支持，以转嫁美国债务赤字和可能重新攀升的通胀风险。关于美国财政赤字和美国国债发行量，富达国际固定收益业务全球首席投资官Steve Ellis认为，赤字问题不太可能在短期内得到解决，这将有可能扰乱债券市场。
资料13:美国或迎来史上最高龄选举，特朗普首次回应暴瘦（发布于2024年1月25日）：有知情人士透露，梅拉尼娅让特朗普吃得更健康，并且阻止他去海湖庄园自助餐厅吃甜点。▲特朗普2020年和2023年体型对比特朗普近期状况：频频“口误”，步伐虚弱报道称，虽然特朗普的身体可能处于“战斗状态”，但有健康专家指出，特朗普最近几周似乎“比平时更虚弱、更困惑、更容易失态”。纽约内科医生斯图尔特·菲舍尔在接受采访时表示，在艾奥瓦州得梅因结束竞选活动回到酒店时，特朗普显得异常虚弱，走路也不稳。他指出，这与特朗普充满活力的形象完全不符，“我从来没有在他身上看到过这种情况。走路是一个问题，但平衡是另一个问题。他看起来就像在船上。
资料14:“特朗普2.0”来袭！哪些经济政策值得关注？如何搅动全球资本市场？（发布于2024年11月7日）：这些政策预计将导致通胀上行、限制美联储降息空间。工银国际首席经济学家程实和宏观分析师周烨在研报中指出，特朗普的再度执政对美国经济和全球金融市场产生的影响主要体现在三方面：一是单边主义的回归加剧全球贸易和地缘政治风险的上行压力；二是贸易成本抬升推高物价水平，非法移民驱逐计划同步缩紧劳动力市场，加剧货币政策不确定性。三是企业减税政策或进一步恶化财政赤字，加大主权债务风险。“结合近期市场的表现来看，贸易以及外交政策的不确定性引发短期市场的避险情绪。”但程实和周烨说，“特朗普在政策上的延续性至少为市场提供了一个相对熟悉和可预测的环境，全球市场有望更快适应这一变化。
资料15:美国人选来选去还是他俩 为什么？81岁现任总统拜登+78岁前总统特朗普（发布于2024年7月10日）：美国知名脱口秀节目“每日秀”主持人囧司徒，在本周一（7月8日）的节目中发起了牢骚，他就今年至今已经持续热了半年多的美国大选话题，发表激烈质问说：英国工党2个月就击败了保守党上台执政，法国总统马克龙从宣布提前选举到两轮投票完成，也仅仅用了不到1个月时间就击败了极右翼政党，为什么美国人必须忍受两位80岁上下的老年人在那儿无休止、无底线的进行人格羞辱？ 的确是这样。简单地说，2024年的美国大选，几乎和2020年一模一样，还是那两个人——特朗普与拜登。只是他们更老了，每个人的年龄都老了4岁。  2024年的美国大选，几乎和2020年一模一样 虽然在多次民意调查中，美国选民都一再抱怨，他们不愿意看见78岁的前总统特朗普与81岁的现任总统拜登再竞选一次美国总统。但是，没办法，2024年的美国大选，目前看，不会发生人事变化，特朗普将与拜登再次对决。 问题是美国人该不该有所抱怨？ 其实他们没什么可抱怨的。因为，这是特朗普与拜登他们两个人自己的选择，也是特朗普与拜登的广大支持者与美国两党（民主党和共和党）各自的选择。 现在距离今年11月的全国大选还有4个月的时间，美国人还有可能终结两位80岁老人继续玩一次政治秀吗？比如让拜登或特朗普退选？ 答案是：不能。 因为是美国人选择了他们，这就是美国人自己的选择。 美国知名脱口秀主持人囧司徒的抱怨或牢骚，是没用的。多少牢骚也不能改变现实。  截图：美国知名脱口秀主持人囧司徒质疑美国大选与老人政治 自今年初开始，美国两党各自进行了全国性的党内总统候选人初选，在共和党，几乎从首场党内竞选开始，特朗普的支持率、得票率就一骑绝尘，除了前美国驻联合国大使黑利（女）勉强坚持到3月之外，其他选举前被看好的候选人——包括佛罗里达州长罗恩·德桑蒂斯——纷纷退选。至今，虽然美国共和党尚未召开党代会确认提名人，但是候选人已经剩下了唯一一个，特朗普。 而在民主党的初选中，民主党内的政治精英们几乎都回避了与拜登的竞争，让现任总统毫不困难的获得了代表民主党竞选连任的机会。 所以，今年的美国大选呈现出的老人政治，既是现实如此，也是意愿选择。可能民主党的支持者不愿意看见78岁的特朗普，而共和党的支持者更不愿意看见81岁的拜登，但是他们自己还是选择了他们自己看好的那个老人。  关于美国选举的讽刺图片 说到美式选举是不是不如英法更高效？有一点是肯定的，美国大选的过程与英法相比可能是太漫长了。 尤其是英国，7月4日进行议会选举，当晚出结果；第二天，7月5日，在选举中失败的现任首相苏纳克宣布辞职，同一天，英国工党领袖基尔·斯塔默（Keir Starmer）被英国国王委任为新首相。 几乎一夜之间，英国政坛完成了执政党的变更和首相的换人。波澜不惊，就像小区物业换了个经理。 整个选举过程也非常短，一个月前，首相苏纳克宣布解散议会、提前大选。一个月时间就完成了从开始到结束的全国大选全过程。  英国工党领袖、新任首相基尔·斯塔默爵士 |Getty Images 这里的一个关键区别是，美国大选是全民普选、全国直选，选美国总统、选国会议员；而英国是间接选举，全民选举政党、选举议员，然后由议会决定执政党和总理（首相）人选。 实际上，除了两位总统候选人均已高龄之后，美国还可以抱怨更多，比如：美国选举太费钱了、一次大选的成本太高了；美国选举过程太漫长了，全程要超过一年时间；还有，美国选举被资本家、政治捐款人、权贵集团操纵得太厉害了，目前的“老人政治”就是这种操作的结果。 这可能是美国终将衰落的原因之一。  前美国驻联合国大使黑利曾与特朗普竞争共和党总统候选人，但不久即宣布退选 延伸阅读：  延伸阅读：
资料16:拜登82岁，特朗普78，美国两党年轻人为何竞选不过他们？（发布于2024年1月22日）：随着德桑蒂斯宣布退出总统竞选并支持特朗普，从目前形势看，黑利要想撼动特朗普，难度很大。特朗普大概率会是今年美国总统选举中的共和党候选人；而民主党这边确定是拜登。 今年的美国选举，可能要重复四年前的对阵。只不过，拜登和特朗普又老了四岁。 拜登1942年11月出生，82岁；特朗普1946年6出生，78岁。两个人无论谁当选，都是美国历史上年龄最大的总统。其实也是世界政坛上比较少见的高龄当选总统。  美国两党为什么推出两个老人来竞争？没有年轻一点的人吗？ 年轻人当然有，但仍然由两个老人出战，主要有三个原因： 一，政党原因。民主党方面，因为拜登是现任总统，美国的政治惯例是，现任总统要竞选连任，该党就会全力以赴支持他，基本不会出现强有力的挑战者。 共和党方面，过去几年，在特朗普的影响下，共和党整体不断向极右方向发展，变成一个排斥移民、强调狭隘的美国利益的民粹主义政党，也就是媒体常说的变成了“特朗普党”。 传统、温和的保守势力已经变成党内少数，这些人基本会支持黑利。但势力上难以和支持特朗普的势力抗衡。 二，选民原因。 不管怎么说，共和党和民主党选谁作为总统候选人，最终还是本党选民投票选出来的（有些州中立选民也可以参加投票）。选民中也有不少人担心拜登和特朗普的年龄，但是更多选民还是更重视候选人的政策和身体状况。 共和党选民大部分认为特朗普身体状况好，特朗普更是自称身体状况“棒极了”。共和党选民大部分认为拜登身体状况不行。 民主党大部分选民也觉得拜登身体状况可以，能胜任总统职位，过去三年，拜登执政再加上民主党在国会势力不错，所以拜登也兑现了不少竞选时的诺言。这让民主党党内大佬和选民都可以说，拜登虽然年纪大，但是执政能力没问题。 三，竞选的结果。 两党不是没有年轻人，民主党和共和党内初选时，都有年轻的候选人参选。比如当时的共和党的克鲁兹、鲁比奥，民主党的哈里斯、布特杰吉等人，但是在党内初选的辩论和其他竞选活动中，都被特朗普和拜登击败。 所以从整体来说，不是没有年轻一点的候选人，而是竞争不过两个老人。这背后既有政党组织的原因，也有选民选择的原因。 实际上从近三十年历史看，美国当选总统年轻人还是占多数，克林顿当选时46岁（1992年），小布什当选时56岁（2000年），奥巴马当选时47岁（2008年）。 三人都比特朗普和拜登年轻。连续出现三名年轻人当选，接着出现两个老人当选，可能也是偶然因素。 当然，今年拜登和特朗普年纪的确是个明显的问题，特朗普还面临官司。如果在接下来的大半年中，无论是拜登或者特朗普出了什么问题，估计两党都会有紧急措施，推出新的候选人。（钱克锦）
资料17:揭秘特朗普成长故事：纽约军校培养其领袖气质（发布于2016年11月10日）：小时候，特朗普就因为调皮被送到纽约军校读书，培养自己的领导气质，为入主白宫奠定坚实的基础。童年和少年时期就读纽约军校的特朗普1946年6月14日，特朗普出生于纽约皇后区，是名副其实的富二代。祖父英年早逝，父亲为帮助家计，甚早即决意创业，发现房地产生意颇具“钱”途，遂创设“特朗普公司”，专门在纽约市皇后区及邻近地区兴建并经营中型公寓，供一般民众租赁或购买。他自幼即满腹自信，活力四射，无法静下来用功读书。13岁那年，父母只好送他去纽约军校求学，冀望军校的严格训练能帮助他力争上游。在军校就读期间，特朗普人缘甚佳，不仅学业成绩优异，也是运动健将，1964年自军校毕业时，领袖气质已隐然成形。
资料18:设前总统办公室、应对弹劾，退休后的特朗普还很忙：知情人士解释称，作此安排是因为根据美国宪法，首席大法官负责主持针对现任总统的弹劾审判，而其他弹劾案件则由参议员负责。由于美国宪法的弹劾条款中仅提及“总统”，弹劾前总统是否违宪是这次案件的主要争议点。大部分美国学者认为，总统卸任不应该成为撤销案件的原因。掌握参众两院控制权的民主党人也对弹劾态度坚决。要正式给特朗普定罪，需要得到三分之二参议员的支持，这意味着要有17名参议员倒戈。如果特朗普被定罪，参议院将可以进行第二次投票，禁止他再次担任公职。总统拜登25日在白宫接受美国有线电视新闻网（CNN）采访时表示，即便可能耽误内阁提名人认证程序，弹劾也必须如期推进。
资料19:特朗普能领到退休金吗？（发布于2021年1月14日）：“如果被解职，这只是意味着‘临时性地被解除公职’，但并不意味着未来不可以参加竞选。”但万一弹劾成功，参议院或可在弹劾案中临时加一句——唐纳德·特朗普终身不得干政。1989年佛罗里达州联邦众议员哈斯廷斯就曾遭遇过。3这次弹劾对于特朗普来说，影响确实很大。首先，是退休金问题。特朗普背后的超级大金主阿德尔森去世无论特朗普在任时领多少薪水，从美国总统退休待遇上看——如果他不被罢免，或者弹劾不通过，则按照1958年通过的《离任总统法案》，以退休总统的身份，特朗普每年可以收入20多万美元。前总统夫人则能得到2万美元的零花钱。除了年薪外，前总统还可以报销在全美任何一个地方租用办公室和雇用工作人员的相关费用。
资料20:七件事｜特朗普2.0将如何重塑商界格局？（发布于2024年11月11日）：银行家表示，美联储降低大型银行借记卡支付交换费的提议可能会被修改。 特朗普的其他提议可能会对银行构成挑战，包括他对加密货币的态度和贸易战的威胁。特朗普曾表示支持加密货币的未来，并“抛弃行动迟缓、过时的大银行”。他的儿子帮助推出了加密货币平台World Liberty Financial。 预计特朗普政府将进一步放松货币监理署和其他监管机构收紧的资本规定，并允许银行间进行更多并购。 预计私募股权将进入散户市场。特朗普的胜利可能有助于私募股权公司从个人投资者那里筹集资金。在特朗普的第一任期内，SEC扩大了允许投资私募股权基金的散户投资者范围，劳工部试图允许私募股权进入工人的退休计划。
资料21:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：尽管特朗普刻意公布自己的“认知检测”非常好，但在政治选举中，是不是痴呆并非胜选的唯一条件。3. 拜登在白宫庆祝81岁生日时，因蛋糕的“熊熊大火”与赦免火鸡闹了笑话。他是美国年纪最大的在任总统。年龄是拜登连任总统的重要阻力之一，近期有59%已登记选民“很担心”其身心状况，民主党党内人士也对拜登再战特朗普感到不安。不过特朗普已经77岁，如果他真的胜选，也将会成为“美国史上年龄最大的总统”。特朗普也步拜登后尘，开始出现失语？发体检报告证明自己没有“痴呆”11月20日，美国总统拜登迎来了自己81岁的生日。
资料22:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：特朗普也步拜登后尘，开始出现失语？发体检报告证明自己没有“痴呆”11月20日，美国总统拜登迎来了自己81岁的生日。但出乎意料的是，他收到了自己的对手、前总统特朗普精心准备的礼物：他的医生发布了一份特朗普的体检报告，称他的健康状况“非常好”，并且他的认知检查“非常出色”，暗示自己没有“痴呆”的前期表现。这封公开信是由特朗普的私人医生、新州莫里斯敦医生布鲁斯·阿伦瓦尔德（Bruce Aronwald）撰写并发布的。他自2021年以来一直是特朗普的医生。此信是在77岁的特朗普因“言语失误”导致他的年龄成为瞩目的焦点之后发表的。▎今年8月24日，特朗普到佐治亚州富尔顿监狱自首时，警方发布的大头照。
资料23:美国或迎来史上最高龄选举，特朗普首次回应暴瘦（发布于2024年1月25日）：▲与此前相比，特朗普明显瘦了不少美国多家主流媒体1月23日报道，美国前总统特朗普在当天举行的2024年美国总统选举新罕布什尔州共和党初选中胜出。这是特朗普在共和党初选中赢得的连续第二场胜利。作为特朗普党内唯一对手的妮基·黑利随后向特朗普表示祝贺，并表示她将继续参加共和党初选，称“比赛远未结束”。然而，多家媒体分析指出，特朗普成为共和党候选人几乎已成定局。这意味着，美国历史上年龄最大的两任总统——拜登和特朗，将再次直接交锋。今年11月，78岁的特朗普和81岁的拜登，一场年龄相加159岁的总统选举，也将再次创造记录。
资料24:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：故事是这样的，特朗普听完我的问题哈哈大笑，然后给他妈妈打电话，问他是什么时候出生的。”露易丝提供的出生信息是1946年6月14日上午9:51（美国东部夏令时），纽约皇后区。这个时间对应的上升点在狮子座17度。我猜测他当时只是给了出生时间，日期和出生地点很可能来自特朗普各种不同版本的公开资料。（我的图书馆里有一份这一期“数据新闻”的复印本。）很多占星师都使用了这份出生信息，当他们在书里描写特朗普这位商人时，比如露易丝·罗登、琳恩·帕尔默。我把这份数据放在SolarFire的克利福德数据摘要中（1997和2000年版本），以及我的书《占星师的星盘手册》（2009年，Flare出版社）。
资料25:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：Frank专栏|关于特朗普出生时间的澄清2017-10-2510:31这是一些有关唐纳德·特朗普的出生信息和来源（希望这是一次澄清）。尽管他的出生时间被报道是“神秘的”，但作为数据收集者的我来说，这些数据勿用争辩、相当直接。1992年4月，露易丝·罗登的“数据新闻”（第34期）发布了以下信息：“最终，我们找到了唐纳德的出生数据！我很不情愿地说它是来自‘私人来源’，私人来源往往被认为是模糊不清，毫无价值的。但在这件事里，我接受这个来源的可靠性，但不能把来源公布出来。故事是这样的，特朗普听完我的问题哈哈大笑，然后给他妈妈打电话，问他是什么时候出生的。
资料26:安全验证：2020年6月25日 — 一九四六年特朗普出生在纽约市，他的父亲弗雷德里克是一个颇有成就的房地产商人。 父亲对特朗普的影响非常大。 在父辈的言传身教之下，特朗普早年就对商业表现出了 …
资料27:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：（后来，赛·斯科菲尔德负责更新SolarFire的数据库，当特朗普的出生证明被公开后，他把摘要里的信息更新为上午10:54。）2011年，当特朗普全力攻击巴拉克·奥巴马的公民权时，向媒体公布了自己的医院出生记录，之后是整张出生证明。两者都确认出生时间是1946年6月14日，出生在纽约皇后区里士满山的牙买加医院。两份出生信息的时间都是上午10:54（上升变成了狮子座29度）。这也是许多占星师现在所使用的特朗普的出生时间。在这个信息容易误传的年代（特别是当土星和海王星四分，并且都落在木星守护的星座），大家都普遍不再信任各类报道。
资料28:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：文/夏林 凤凰网《CC情报局》特约撰稿员核心提要：1. 11月20日，77岁特朗普在拜登81岁生日当天，送上了“祝福大礼”：一份暗示特朗普没有“痴呆”的体检报告，称其心血管检查等“一切正常”。近期，已宣布参加2024美国大选的特朗普屡次出现“言语失误”，被共和党内质疑其能否胜任总统。特朗普团队利用这份体检报告，试图证明特朗普比拜登更健康，精心策划了一场危机公关。2. 不过，这份体检报告对特朗普的健康状况陈述过于宽泛，甚至不包括特朗普的身高体重、胆固醇水平、血压等基本信息。尽管特朗普刻意公布自己的“认知检测”非常好，但在政治选举中，是不是痴呆并非胜选的唯一条件。
资料29:“特朗普2.0”来袭，其政策路径会是1.0版的翻版吗？（发布于2024年11月11日）：”吴心伯说。有评论认为，特朗普虽然被判重罪，被大量选民反感，是一位背负沉重包袱的候选人，但他克服了这一劣势，向渴望变革、对拜登-哈里斯领导下的国家发展方向不满的选民展示了自己。第二个制胜关键是，特朗普“攻坚”民主党传统支持者——非洲裔、拉丁裔选民，并取得成效。路透社根据临时出口民调指出，特朗普在全国范围内赢得45%的西班牙裔选民，落后于哈里斯的53%，但比2020年上升13个百分点。美联社根据VoteCast数据研判，此次投票中，特朗普在年轻人和非洲裔美国人中的支持率上升。在18岁至29岁人群中，其支持率从2020年的36%上升至本次选举的44%。
资料30:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：”阿伦瓦尔德博士写道，“他的身体检查指标完全在正常范围内，而他的认知检查则非常出色。”他的实验室化验结果“完全在正常范围内”，并且“在一些最重要的指标”上比之前的检测有所改进，尽管他没有提供任何细节。这封信件还特别强调：川普的心血管检查“一切正常”，他的癌症筛查结果均为阴性。特朗普“通过改善饮食和持续的日常体育锻炼来减轻体重，同时保持严格的日程安排”，但这位医生没有列出特朗普的体重。“我认为，特朗普目前健康状况良好，他将在未来几年继续享受健康积极的生活方式。”阿伦瓦尔德总结道。然而，这封信对特朗普的健康状况做出了宽泛的陈述，但没有包括有关特朗普接受的测试类型或结果是什么的信息。
资料31:81岁的拜登和77岁的特朗普，将再次终极对决？（发布于2024年1月25日）：但这则广告的画外音引起了许多人的关注：“这是最后一战。”自2022年11月15日宣布将再次竞选总统后，特朗普就曾多次使用“2024年是我们最后一战（Final Battle）”这样的表述。外界对此有着不同的解读。有分析认为，对于77岁的特朗普而言，2024年大选将是他最后一次参与竞选总统。但也有人认为，这句话背后有更深刻的内涵。特朗普曾说，“谎言、腐败和宣传正在将文明推向废墟”，而这“最后一战”将“再次纠正这一切”。美国过去8年的政治中，几乎到处都是特朗普的身影。2016年，作为商人、真人秀明星的特朗普出人意料地击败老牌政治家希拉里·克林顿，此后开启了他混乱的四年总统任期。
资料32:81岁的拜登和77岁的特朗普，将再次终极对决？（发布于2024年1月25日）：这场对决中有着许多美国人不想看到的“纪录”：拜登是美国历史上年龄最大的在任总统，他若是连任将持续执政至86岁；特朗普是美国历史上首位面临刑事指控的前总统，他在竞选期间或许也不得不一再出入法庭受审。有美国学者称，“我感觉美国正坐在一个导火索已经点燃的火药桶上……这个火药桶很可能会在2024年爆炸。”━━━━━特朗普的“最后一战”当地时间1月12日下午，就在艾奥瓦州党团会议前的最后一个工作日，特朗普在他的社交媒体平台上发布了一则新的竞选广告。在这则30秒的黑白画面广告中，特朗普未做其他事情，只是在一个走廊上缓慢地行走。但这则广告的画外音引起了许多人的关注：“这是最后一战。
资料33:“特朗普2.0”来袭！哪些经济政策值得关注？如何搅动全球资本市场？（发布于2024年11月7日）：程实团队指出，当前，美国国债（不包括政府内部债务）占国内生产总值 (GDP) 的 99%，财政压力及主权债务成为下一任总统难以回避的问题。尤其是在当前高利率环境下，美国联邦债务的压力将明显上升，对长期经济结构构成潜在威胁。“重返白宫后，特朗普可能继续推行企业减税甚至个人减税政策，以刺激经济增长。然而，减税政策的短期刺激效果难掩长期财政不可持续的隐忧，市场对财政政策走向的敏感度将进一步抬升。”程实说道。根据美国尽责联邦预算委员会（CREB）的中性估计，到2035年财政年，特朗普的政策主张将使债务增加7.75万亿美元，债务占GDP比重将达到143%。
资料34:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：共和党人质疑特朗普是否有能力担任三军总司令，理由是他的年龄和心理健康状况。2024年特朗普党内的潜在总统竞选对手、佛罗里达州州长德桑蒂斯表示，总统职位“不适合年过80岁的人”，如果特朗普当选，他也会成为“美国历史上年龄最大的总统”。而这一点似乎没有办法再攻击同样有年龄问题困扰的拜登。在这样的状况下，特朗普的团队，拿出了他于今年9月13日进行的一次体检报告，进行危机公关。“我很高兴地报告，总统川普的整体健康状况非常好。”阿伦瓦尔德博士写道，“他的身体检查指标完全在正常范围内，而他的认知检查则非常出色。
资料35:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：拜登在欢庆81岁大寿之际，年龄成为他53年政治生涯的最大挑战。尽管白宫坚称拜登健康硬朗、足以连任，但拜登的年纪问题在诸多高调场合浮现：包括在空军官校毕业典礼跌倒，登上空军一号专机时踉跄，睡眠时佩戴呼吸器治疗呼吸中止症，以及诸多口误、今年与第一夫人双双进行癌症手术等。种种状况让民主党人对于拜登再战特朗普感到不安。至于77岁的川普，仅50%选民认为他太老。特朗普在任内曾被逼进行认知检测，这次他刻意公布自己的“认知检测”非常好，就是想告诉选民：我没有痴呆！我可以再当选。但政治选举中，是不是痴呆，可能不是当选的唯一条件。
资料36:特朗普上任会对中国经济、产业带来哪些影响？如何应对？（发布于2024年11月9日）：我们可以预见，在特朗普重新上台后，面对可能到来的更大压力，国家对高科技企业、专精特新企业的政策优惠，只会越来越大。这是大趋势，企业要做的就是顺应趋势，坚定地走专精特新、技术立身的道路，为服务对象提供高性价比产品，同时，借助于全域营销触达更广的用户，包括全球不同区域的潜在用户。我再把前几天说的那句话送给大家：专精特新和全域营销是天生的绝配，也是未来企业发展的方向和趋势。
资料37:“特朗普2.0”来袭，其政策路径会是1.0版的翻版吗？（发布于2024年11月11日）：在18岁至29岁人群中，其支持率从2020年的36%上升至本次选举的44%。在黑人群体中，特朗普的支持率从2020年的8%上升至2024年的15%，这一上升势头在黑人男性中尤为明显。他在本次选举中获得该人群23%的支持。舆论称，特朗普桀骜不驯的风格以及对经济繁荣的承诺，特别受到非洲裔和拉丁裔男性的欢迎，这帮助他蚕食了民主党一个至关重要的选民基础。比如，特朗普此次拿下的佐治亚州，白人不足一半，非洲裔约占三分之一，西班牙裔约占11%，在上次大选被民主党收入囊中。相比之下，哈里斯之所以落于下风，在吴心伯看来，最关键原因在于哈里斯政治能力、政治历练不足，她只是在特殊情况下才被推到前台。
资料38:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：但这次的认知测试，不知用的是否同一份试卷。在2020年4月的最后一次白宫体检中，川普的体重为244磅，身高6英尺3英寸，这使他属于肥胖类别。他当时在服用阿司匹林、保法止（治疗脱发的）和一种有助于降低胆固醇的药物。特朗普是2024年共和党总统初选的领跑者，他的健康状况同拜登一样成为关注的焦点。他现年77岁，如果当选，他在任期结束时将年满82岁。特朗普选在这一特殊日期公布这份两个月前的体检，显然试图澄清自己没有大家认为的“失语”造成的认知问题，没有痴呆前期的表现，证明自己比拜登更健康，也不像拜登曾患有癌症。他非常健康。体检报告从来不是身体健康的标志，而是政治健康的标志，现在，它又被拿出来使用了。
资料39:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：在以下链接有篇文章（http://keplercollege.org/home/index.php/articles/using-astrology/item/580-donaldtrump-birthtime），详细描述了有关特朗普出生信息的各种神秘因素，并总结出六个原因来建议我们使用最早提供的出生信息，即上升在狮子座17度。六个原因列举如下，为了表示对作者（占星师克里斯汀·阿伦斯）的尊敬，我把我的想法注释在原文下方。➀、占星师琳恩·帕尔默最早公布了特朗普的星图（1994年）。这很可能基于露易丝·罗登1992年得到的信息。琳恩也是“数据新闻”的提供者，会定期给罗登提供名人客户的出生信息。
资料40:美国或迎来史上最高龄选举，特朗普首次回应暴瘦（发布于2024年1月25日）：今年11月，78岁的特朗普和81岁的拜登，一场年龄相加159岁的总统选举，也将再次创造记录。也有媒体指出，尽管拜登的年龄问题一直遭到诟病，但特朗普在近期竞选活动中也频频“口误”，并且看上去身体精神状况或许“已经大不如前了”。有人评价道：“我们将看到史上最老年化的选举。两位候选人（特和拜）将就自己的认知力展开辩论。”特朗普回应“暴瘦”：处在“战斗状态”，已瘦18斤当地时间1月23日，特朗普出现在新罕布什尔州第二大城市纳舒厄等待投票结果。据报道，特朗普看上去很“轻松”，还在接受采访时谈到了自己“暴瘦”的问题。这是特朗普第一次公开回应此事。据报道，特朗普突然“暴瘦”的话题在去年就引发了热议。
资料41:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：除此此外，却又没人能够提供证据说明特朗普的文件就是伪造的。但是，就算有证据支持，出生证明和医院记录有时也会出错。我自己的档案中，就出现了两者之间矛盾的记录。登记员、助产士、父母在记录出生信息时都可能出错。有时，出生信息较真实信息来说被提前了，或者滞后了。母亲的记忆通常是正确的。我们无法百分百地确定上午10:54是不正确的出生信息。但作为一名数据收集者，出生证明和医院记录的时间完全吻合，比起一个母亲回忆四十年前自己生孩子的时间，更具有可信度。我建议使用上午10:54这个时间，但也鼓励占星师（在有机会的时候）用特朗普生命中的故事来验证这个时间，特别是竞选上总统前的那些事件。
资料42:Frank专栏 | 关于特朗普出生时间的澄清（发布于2017年10月25日）：在这个信息容易误传的年代（特别是当土星和海王星四分，并且都落在木星守护的星座），大家都普遍不再信任各类报道。有一种谣传是特朗普把出生时刻从9:51改到10:54，是想要故意误导占星师，所以篡改了医院记录和出生证明。可能存在各种理由：比如故意把上升点调到轩辕十四的度数（译者注：轩辕十四是帝王的象征），或者是为了混淆竞争者和敌人的策略，亦或者可以简单地解释为“特朗普是个两面派的双子座”。
资料43:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：“他总是东张西望，我该去哪里？”上个月，在爱荷华州锡达拉皮兹的竞选活动中，特朗普夸张地模仿拜登在舞台上困惑地走来走去。几周后，特朗普在爱荷华州苏城登台，错误地感谢了支持者来到南达科他州苏福尔斯，随后爱荷华州的一名州参议员试图谨慎地纠正他——这一刻被电视镜头捕捉到。在华盛顿特区举行的一次峰会上，特朗普声称拜登可能“让世界陷入第二次世界大战”——这场战争已于近80年前结束；并且似乎让拜登和前总统奥巴马感到困惑——他称自己在民意调查中领先于奥巴马。最近的“连续失语”给特朗普、他的竞选团队和共和党带来了“麻烦”。共和党人质疑特朗普是否有能力担任三军总司令，理由是他的年龄和心理健康状况。
资料44:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：最近一项民意调查显示，59%已登记选民“很担心”他的身心状况。但有评论形容，特朗普也已77岁，并没有比拜登年轻多少。彭博的一项调查认为，高龄已成为81岁拜登竞逐2024年连任的最大风险；美国广播公司（ABC News）与华盛顿邮报（WP）联合民调显示，拜登今年4月宣布角逐连任，74%受访选民认为拜登太老、不再适任；特朗普单挑拜登的优势领先七个百分点。拜登在欢庆81岁大寿之际，年龄成为他53年政治生涯的最大挑战。
资料45:我没有痴呆！77岁特朗普在拜登81岁生日当天，公布体检报告（发布于2023年11月22日）：然后在赦免火鸡时搞混了艺人泰勒丝与布兰妮，被媒体抓住大作文章。▎今年2月16日，拜登进行了他任期内的第二次体检。这份报告认为拜登查出脊椎病，胃食管反流，过敏……结论是：拜登没有新冠长期症状，他仍然是一个健康、充满活力的80岁男性，适合成功履行总统职责。▎3月3日，白宫医生奥康纳称：在2月16日的总统例行体检中，从拜登总统胸部切除的一块皮肤组织，经过活检，被确认是基底细胞癌。癌变组织都被成功进行了切除，总统胸部的切除部位“恢复得很好”。拜登身为美国年纪最大的在任总统，年龄是他竞逐连任面对的重大阻力之一。最近一项民意调查显示，59%已登记选民“很担心”他的身心状况。

提示思路：
相关问题1：特朗普的退休计划可能会受到哪些因素的影响？
相关问题2：特朗普是否有公开宣布过他的退休计划？
相关问题3：特朗普目前的年龄是多少？
相关问题4：特朗普的退休计划对他的商业帝国将产生什么影响？
相关问题5：特朗普的退休计划对美国政坛有何潜在影响？
相关问题6：特朗普是在哪一年出生的？

结构化模版：
为了使答案更清晰和有组织，以下是几种常见的结构化方式，你可以选用其中一种或多种方式组织答案：
-简介-主体-总结：引入主题，详细讨论，以要点总结。
-针对每个子问题的段落：适合复杂问题，每一子问题一个段落回答。
-因果关系：说明事件的原因和结果。
-比较对比：描述并对比两个以上的概念或事物。
-时间顺序：按事件发生的顺序描述过程或步骤。
-问题解决：介绍问题，阐述解决方案和策略。
-优缺点：列举决策或选择的正反两面。
-定义和例子：给出定义并通过例子解释。
-逻辑推理：基于假设或前提，逻辑推导结论。
-列表结构：列出事实或特点，方便扫描。
-分类结构：介绍概念，按标准分组并详细说明。
-主题和变化：探讨核心主题及其变体。
-案例研究：通过具体案例解释理论或概念。
-层次结构：信息按重要性或顺序排列。
-议题和反议：展示议题的支持和反对观点。

在结构化答案时，还应该注意以下几点以增加清晰度和符合人类偏好：
（1）尽可能简洁清晰地回答问题。
（2）避免不必要的术语或专业词汇，除非它们对理解答案至关重要。
（3）用段落划分不同的思想或概念，段落内容不可为空。
（4）确保连贯性和逻辑性流畅。以问题为导向，非直接回答问题的部分不要放在答案中。
（5）确保答案直接且准确地解答了提出的问题，没有问题无关的内容。
（6）一定要输出有多层级结构的结构化的Markdown格式的回答。在结构化的文本中，对于需要强调的关键字词，请务必选择上述列出的结构化模版，输出Markdown格式的结构化文本。
（7）如果回答的内容有可靠的资料来源，在打印的语句结尾处添加引用证据的来源编号，格式为[资料*]，每个资料单独列出，注意在行文中不要出现“资料”、“[XXX]表示”、“根据[XXX]”的字眼, 仅仅标出引用来源即可。例子：习近平总书记在2023年全国两会期间的行程安排紧凑，涉及多个重要活动和会议[资料99]。
（8）【重要！】对于数字比较问题，请先一步一步分析再回答。
（9）如果参考材料中未提供的方面不要回答，确保回复内容准确有效。不要出现空着的内容，不要出现不确定的内容。

安全合规要求
（1）你的回答应该遵守中华人民共和国的法律
（2）你会拒绝一切涉及恐怖主义，种族歧视，黄色暴力，政治敏感等问题的回答。

另外遵循以下要求：
（一）回答结果尽可能的信息完整，对问题中的关键信息直接对应，并且结构化回答的每个子项也要充分进行回答，避免短小、表述过于假大空的段落。
（二）生成问题答案时，信息组织的结构对于清晰性和可读性至关重要。
（三）由于参考资料是从各种文章素材中摘取的片段，不必参考其样板格式和表述不当的地方。
（四）如果某个参考资料与提出的问题“特朗普什么时候退休”无关，则忽略该资料，不借鉴该资料的任何内容。
（五）如果资料中没有与提出的问题相关的内容，则说明由于资料较少不进行回答，可以直接打印“抱歉，由于可参考的资料较少，我不能对该问题作出回答。”。
（六）如果多个资料之间有信息矛盾的情况，以发布时间最新的资料信息为准。
（七）需要注意今天的日期是2024年11月13日，如果问题中含有相对时间的描述，则以当前时间点作为基准。
（八）在满足安全合规要求下，注意并遵循用户问题中提到的每条指令，对于用户的问题你必须直接的给出回答。如果指令超出了你的能力范围，礼貌的告诉用户。
（九）回答开头不要重复问题，回答末尾不要出现“参考资料”等字眼。

你需要按照以下格式回复(记得带上“#######
[回答]:”和“########”)：

#######
[回答]: ...
########
"""
    res1 = llm_call(input_a, model_name="memory25_72b", n=1, temperature=0, timeout=10,
                   is_stream=False)
    print(res1)
    res = llm_call(input_a, model_name="memory25_72b", n=1, temperature=0, timeout=10,
                   is_stream=True)
    for _ in res:
        print(_, end="")
    res = llm_call("""你在做一个百科问答任务，请根据参考资料内容来回答问题。

问题: 哪种投资主题被认为具有长期的上升潜力？为什么

补充信息：今天的日期是2024年11月04日

参考资料：
资料0:2024年十大投资主题（发布于2024年1月9日）：主题六：日央行退出负利率政策，日元汇率受支撑2023 年来日本央行两次调整 YCC 政策，2024 年日本退出负利率政策已成为大概率事件， 人们转向关注退出负利率政策的节奏。判断日本政策转向的标准在于工资增速与通胀目标 是否一致远高于 2%。通胀方面，核心 CPI 同比连续 19 个月高于日本央行 2%的目标；工 资方面，日本工会“春斗”（春季工资谈判）在 2023 年实现 3.6%的薪资涨幅，日本劳动参 与率也稳步上行；由于通胀—薪资的正向循环开始运作，日本企业信心高涨，日本央行已 经初步具备退出负利率政策的条件。
资料1:2024年十大投资主题（发布于2024年1月9日）：整体来 看，总量数据的可预测性降低，不可线性外推。 启示：①新旧动能切换是最大的基本面，认知差重于信息差，提高政策敏感度；②利率“大 三角”收敛格局延续；③股市分子端或有限改善，流动性的传导渠道还有待畅通；④确定 性稀缺年代，挖掘相对确定性的机会，筹码、估值等更显关键。主题二：经济周期错位导致的相对“痛感”下降2023 年，全球政策差异和经济错位，给内部微观主体和投资者带来相对“痛感”。政策差 异带来两个结果：宏观层面，全球经济错位，通胀和增长形成剪刀差；美国宽财政推升经 济韧性，服务业消费-就业-工资形成良性循环，通胀仍高于美联储目标，名义增长相对更高。
资料2:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：企业纷纷投身于战略“军备竞赛”，致力于汇总数据，以及整合利用这些数据提升效率的必要软件。企业在这方面的执行成效，将决定未来十年或更长时间各个行业内的优胜劣败。投资主题：软件即服务/基于云的新数据库2021至2022年期间，许多下一代软件即服务（SaaS）股票的回调，让我们发现了一些新的投资构想。我们发现，尤其是在全球数据创建规模与日俱增的环境下，数据持续增长以及更有效地管理数据的需求，是一个具有吸引力的领域。许多下一代数据库管理工具和服务供应商将从该趋势中受益，其中大部分涉及到“云”，即通过互联网访问的服务器，以及在这些服务器上运行的软件与数据库。
资料3:什么类型的投资被认为是最具潜力的？这种潜力如何影响投资决策？（发布于2024年9月29日）：在投资领域，探寻最具潜力的投资类型是众多投资者关注的焦点。不同的投资类型在不同的市场环境和经济周期中展现出各异的潜力，而这种潜力对于投资决策的影响至关重要。股票投资往往被认为具有较高的潜力。股票代表着对公司的所有权，当公司业绩出色、行业前景广阔时，股票价格可能会大幅上涨，为投资者带来丰厚的回报。例如，新兴科技行业中的创新型公司，如人工智能、生物技术等领域，随着技术的突破和市场的拓展，其股票价值有可能实现数倍甚至数十倍的增长。基金投资也是一种潜力不容忽视的方式。通过投资基金，投资者可以分散风险，由专业的基金经理进行资产配置和管理。其中，指数基金追踪市场指数，具有成本低、风险分散的特点；而主动管理型基金则依靠基金经理的选股和择时能力，有可能获得超越市场平均水平的收益。房地产投资在长期来看也具有一定的潜力。房地产不仅具有使用价值，还具有保值增值的属性。特别是在经济增长、人口流入的地区，房地产价格往往会稳步上升。此外，房地产还可以通过出租获取稳定的现金流。以下是一个简单的对比表格，展示不同投资类型的特点：投资类型潜在收益风险水平流动性股票投资高高较好基金投资中高中较好房地产投资中高中较差然而，投资潜力并非是唯一的决策依据。投资者在做出投资决策时，还需要综合考虑自身的风险承受能力、投资目标、投资期限等因素。如果风险承受能力较低，即使某种投资类型具有较高的潜力，也可能不适合选择。同样，如果投资目标是短期获取收益，那么流动性较差的投资类型可能就不太合适。另外，市场环境的变化也会对投资潜力产生影响。宏观经济政策、行业发展趋势、国际政治局势等因素都可能导致投资潜力的转变。因此，投资者需要保持敏锐的市场洞察力，及时调整投资组合，以适应市场的变化。总之，在投资过程中，没有绝对最具潜力的投资类型，只有最适合自己的投资组合。通过深入研究和理性分析，结合自身情况做出明智的投资决策，才能在充满机遇和挑战的投资市场中实现资产的增值。（责任编辑：差分机 ）【免责声明】本文仅代表作者本人观点，与和讯网无关。和讯网站对文中陈述、观点判断保持中立，不对所包含内容的准确性、可靠性或完整性提供任何明示或暗示的保证。请读者仅作参考，并请自行承担全部责任。邮箱：news_center@staff.hexun.com
资料4:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：对于股票投资者来说， ESG整合战略可成为实现这一目标的有效途径。投资主题：碳化硅材料在汽车电动化中的应用即便是在一个特定行业内，我们也可以采取多种形式进行ESG投资与整合。在全球技术领域，市场对更优质可靠的能源管理的需求不断增长，特别是电源管理半导体（电动汽车基本组件）的发展动向，我们非常看好这一领域。虽然电动汽车在不同地区和国家的普及速度差异很大，但在全球范围的销量涨势越发明显。例如，许多欧洲国家已经大幅领先包括美国在内的其他国家。事实上，美国甚至还没有进入全球前15的名单。过去十年来，材料科学的进步推动了新一代碳化硅基半导体的发展，使电动汽车制造商的效率持续提升。
资料5:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：随着企业寻求第三方解决方案来组织、分析和利用数据，公有云支出占IT总支出的比例在各个行业都有明显上升。事实上，到2023年底，全球公有云服务终端用户支出可达到近6,000亿美元。公共云和私有云的迅速发展，催生了企业将传统工作的相关数据和数据库转移到类似架构的需求。随着完全云架构的数据库供应商出现，我们认为这些新的市场参与者将在后续数十年中在市场上占有一席之地。这也是进入2023年后，我们非常看好的投资主题之一。大趋势：人口结构老龄化近几十年来，得益于一系列医学突破和改进，以及全球许多地区普遍更健康的生活方式，平均预期寿命已延长到70多岁，有的国家甚至达到80多岁。
资料6:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：过去十年来，材料科学的进步推动了新一代碳化硅基半导体的发展，使电动汽车制造商的效率持续提升。随着这些成果在未来几年逐步巩固，我们预计电动汽车系统的制造成本将进一步降低，购车门槛有望下降，从而助力电动车的普及。在脱碳和数字化的双重主题下，我们预计全球消费者对更环保汽车的需求将因此迎来重大拐点。大趋势：企业数据革命全球数字化作为一项长期大趋势，已经发展了大约20个年头，但我们认为它还有一段漫长的发展历程。企业数据规模正以每年约40%的速度增长，而关键赋能技术的融合，包括云和机器人、人工智能和机器学习、物联网、5G技术，有望成为这一主题在未来一段时间继续推进的有力催化剂。
资料7:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：对于投资者来说，深入研究将是及早认识和利用全球人口结构变化各种表现的关键。在现代医疗保健行业中，有一个与数字化科技主题重叠的投资机遇，即下一代基因组测序设备的问世。现在，对降低基因组测序成本的日益重视，为以新的模式预防、诊断和治疗心脏病等多种慢性疾病创造了条件。我们相信，现有测序技术领军企业即将推出新平台，以及下一代企业取得的技术发展，应有助于医疗保健领域生命科学子行业在未来实现强劲表现。未来市场，瞬息万变，基于顺应时代趋势的主题投资策略，我们有望在波动的市场中通过科学的数据分析与解读并捕捉投资信号。
资料8:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：而且同等重要的是，建立在严谨的跨领域合作基础上的独特投资流程。我们凭借全球行业分析师和股票研究团队的洞察力，力求尽早发现不同行业的市场拐点及价格脱节，包括科技、金融、工业、医疗保健、能源以及消费品等行业。我们的投资信念在很大程度上依赖于“大趋势”，即我们相信有望从结构上改变全球市场动态、资产定价和21世纪企业成功要素的长期趋势与主题。许多优质的长期成长型公司将受益于一种或多种这样的大趋势。一些公司处于相对有利位置，能够抵御未来12个月以及之后经济放缓的风险。下文将就主要趋势和投资主题展开说明。大趋势：气候变化及ESG整合全球经济各行各业不可避免都会受到气候相关影响。
资料9:2024年十大投资主题（发布于2024年1月9日）：我们预计 2024 年春斗结果将 是关键，若 2024 年加薪幅度符合预期，预计二季度中下旬日本将解除负利率政策；若结果 显示日本仍未进入工资通胀的正向循环，预计日央行仍将保持偏鸽姿态。随着日央行逐步调整货币政策，关注日债曲线陡峭化趋势和日元升值潜力。日债利率角度， 10 月 31 日日央行允许长期利率在一定范围内超过 1%的上限，10Y-2Y 利差迅速走扩至近 五年来最大值 0.804%。在通胀
资料10:2024年热点主题概念投资策略研究报告（发布于2024年3月12日）：热点主题概念投资可以分为宏观性主题、事件性主题、制度性主题和产业性主题四大类别，每个类别都有其独特的驱动因素和投资价值。宏观性主题投资关注的是能够促进经济长期发展趋势或短期变化的宏观驱动因素。这些主题如恶性通胀、包容性增长、区域经济振兴、中国城镇化、人民币升值、金砖四国等，反映了全球或特定区域经济的宏观变化趋势。投资者通过分析这些宏观经济因素，可以预测市场趋势，捕捉投资机会。事件性主题投资侧重于某些确定性事件对相关企业资产价值或盈利水平的影响，如迪尼斯、亚运会、世博会、超级病毒、并购重组等。这些事件往往在短期内对市场产生显著影响，为敏锐的投资者提供了快速反应的机会。


结构化模版：
以下是一些使答案更加清晰、条理化的典型结构化方式，你可以选用其中一种或多种方式组织答案：
- 开头简短介绍回答的主题或对问题进行重新陈述。然后详细阐述答案，提供事实、例证或分析。最后以总结性的语句结束，强调答案的要点。
- 对每个子问题提供一个明确的答案段落，尤其适用于复杂或多部分问题。
- 因果结构：明确阐述原因和结果，解释事件发生的起因，以及这些原因如何导致特定的结果。
- 比较和对比结构：当需要比较两个或多个概念、事物时，使用这一结构。分别描述每一项的特点并进行对比。
- 流程或时间顺序结构：用于描述事件的发展过程或一系列按时间顺序发生的步骤。
- 问题解决结构：介绍问题，然后详细说明解决问题的方法、步骤或策略。
- 优缺点（利弊）结构：当回答需要评估某个决策或选择时，列出其正面和负面的影响。
- 定义和例子结构：给出关键术语的定义，并提供一个或多个例子来阐释。
- 逻辑推理结构：如果答案需要基于证据或逻辑推理，首先提出假设或前提，然后通过逻辑推导出结论。
- 列表和子弹点结构：适用于需要列出一系列事实、提示或特点时，使信息更容易扫描和消化。
- 分类结构：当答案涉及到不同类别或分组时，可以使用分类结构。首先介绍总体概念，然后根据特定的标准或属性将信息分为不同的类别，每个类别详细说明其特征和相关信息。
- 主题和变化结构：适用于描述一个核心主题并探讨其不同的变体或改变的情况。这种结构有助于突出核心概念的多样性和应用范围。
- 案例研究结构：通过详细描述一个或多个具体例子或实际案例，来阐释更广泛的概念或理论。这种方式有助于读者通过具体实例理解抽象概念。
- 层次结构：将信息按重要性或逻辑顺序排列成不同层级。通常从最重要或最基本的概念开始，逐渐过渡到更详细或特定的信息。
- 议题和反议结构：在讨论有争议或多种观点的主题时使用。首先提出一个议题，然后列出支持和反对这一议题的观点或论据，有助于展示全面的视角。

在结构化答案时，还应该注意以下几点以增加清晰度和符合人类偏好：
（1）使用简洁明了的语言。
（2）避免不必要的术语或专业词汇，除非它们对理解答案至关重要。
（3）用段落划分不同的思想或概念。
（4）确保连贯性和逻辑性流畅。以问题为导向，非直接回答问题的部分不要放在答案中。
（5）确保答案直接且准确地解答了提出的问题，没有问题无关的内容。
（6）除非问题很简单，否则尽量输出结构化的Markdown格式的回答。在结构化的文本中，对于需要强调的关键字词，请务必选择上述列出的结构化模版，输出Markdown格式的结构化文本。

另外遵循以下要求：
（一）回答结果尽可能的信息完整，对问题中的关键信息直接对应，并且结构化回答的每个子项也要充分进行回答，避免短小、表述过于假大空的段落。
（二）生成问题答案时，信息组织的结构对于清晰性和可读性至关重要。
（三）由于参考资料是从各种素材文章中摘取的片段，不必参考其样板格式和表述不当的地方。
（四）需要注意今天的日期是2024年11月04日，如果问题中含有相对时间的描述，则以当前时间点作为基准。
（五）不要在回答中提及资料的存在，不要打印出‘根据提供的资料’和‘资料中提到’等等这一类描述。
你需要按照以下格式回复(记得带上“[回答]:”)：

#######
[回答]: ...
########""", model_name="gpt-4o-2024-08-06", n=1, temperature=0, timeout=10, is_stream=True)
    for i, res_i in enumerate(res):
        if i == 0:
            print(time.time() - init_time)
        print(res_i, end='')
    res = llm_call("""你在做一个百科问答任务，请根据参考资料内容来回答问题。

    问题: 哪种投资主题被认为具有长期的上升潜力？为什么

    补充信息：今天的日期是2024年11月04日

    参考资料：
    资料0:2024年十大投资主题（发布于2024年1月9日）：主题六：日央行退出负利率政策，日元汇率受支撑2023 年来日本央行两次调整 YCC 政策，2024 年日本退出负利率政策已成为大概率事件， 人们转向关注退出负利率政策的节奏。判断日本政策转向的标准在于工资增速与通胀目标 是否一致远高于 2%。通胀方面，核心 CPI 同比连续 19 个月高于日本央行 2%的目标；工 资方面，日本工会“春斗”（春季工资谈判）在 2023 年实现 3.6%的薪资涨幅，日本劳动参 与率也稳步上行；由于通胀—薪资的正向循环开始运作，日本企业信心高涨，日本央行已 经初步具备退出负利率政策的条件。
    资料1:2024年十大投资主题（发布于2024年1月9日）：整体来 看，总量数据的可预测性降低，不可线性外推。 启示：①新旧动能切换是最大的基本面，认知差重于信息差，提高政策敏感度；②利率“大 三角”收敛格局延续；③股市分子端或有限改善，流动性的传导渠道还有待畅通；④确定 性稀缺年代，挖掘相对确定性的机会，筹码、估值等更显关键。主题二：经济周期错位导致的相对“痛感”下降2023 年，全球政策差异和经济错位，给内部微观主体和投资者带来相对“痛感”。政策差 异带来两个结果：宏观层面，全球经济错位，通胀和增长形成剪刀差；美国宽财政推升经 济韧性，服务业消费-就业-工资形成良性循环，通胀仍高于美联储目标，名义增长相对更高。
    资料2:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：企业纷纷投身于战略“军备竞赛”，致力于汇总数据，以及整合利用这些数据提升效率的必要软件。企业在这方面的执行成效，将决定未来十年或更长时间各个行业内的优胜劣败。投资主题：软件即服务/基于云的新数据库2021至2022年期间，许多下一代软件即服务（SaaS）股票的回调，让我们发现了一些新的投资构想。我们发现，尤其是在全球数据创建规模与日俱增的环境下，数据持续增长以及更有效地管理数据的需求，是一个具有吸引力的领域。许多下一代数据库管理工具和服务供应商将从该趋势中受益，其中大部分涉及到“云”，即通过互联网访问的服务器，以及在这些服务器上运行的软件与数据库。
    资料3:什么类型的投资被认为是最具潜力的？这种潜力如何影响投资决策？（发布于2024年9月29日）：在投资领域，探寻最具潜力的投资类型是众多投资者关注的焦点。不同的投资类型在不同的市场环境和经济周期中展现出各异的潜力，而这种潜力对于投资决策的影响至关重要。股票投资往往被认为具有较高的潜力。股票代表着对公司的所有权，当公司业绩出色、行业前景广阔时，股票价格可能会大幅上涨，为投资者带来丰厚的回报。例如，新兴科技行业中的创新型公司，如人工智能、生物技术等领域，随着技术的突破和市场的拓展，其股票价值有可能实现数倍甚至数十倍的增长。基金投资也是一种潜力不容忽视的方式。通过投资基金，投资者可以分散风险，由专业的基金经理进行资产配置和管理。其中，指数基金追踪市场指数，具有成本低、风险分散的特点；而主动管理型基金则依靠基金经理的选股和择时能力，有可能获得超越市场平均水平的收益。房地产投资在长期来看也具有一定的潜力。房地产不仅具有使用价值，还具有保值增值的属性。特别是在经济增长、人口流入的地区，房地产价格往往会稳步上升。此外，房地产还可以通过出租获取稳定的现金流。以下是一个简单的对比表格，展示不同投资类型的特点：投资类型潜在收益风险水平流动性股票投资高高较好基金投资中高中较好房地产投资中高中较差然而，投资潜力并非是唯一的决策依据。投资者在做出投资决策时，还需要综合考虑自身的风险承受能力、投资目标、投资期限等因素。如果风险承受能力较低，即使某种投资类型具有较高的潜力，也可能不适合选择。同样，如果投资目标是短期获取收益，那么流动性较差的投资类型可能就不太合适。另外，市场环境的变化也会对投资潜力产生影响。宏观经济政策、行业发展趋势、国际政治局势等因素都可能导致投资潜力的转变。因此，投资者需要保持敏锐的市场洞察力，及时调整投资组合，以适应市场的变化。总之，在投资过程中，没有绝对最具潜力的投资类型，只有最适合自己的投资组合。通过深入研究和理性分析，结合自身情况做出明智的投资决策，才能在充满机遇和挑战的投资市场中实现资产的增值。（责任编辑：差分机 ）【免责声明】本文仅代表作者本人观点，与和讯网无关。和讯网站对文中陈述、观点判断保持中立，不对所包含内容的准确性、可靠性或完整性提供任何明示或暗示的保证。请读者仅作参考，并请自行承担全部责任。邮箱：news_center@staff.hexun.com
    资料4:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：对于股票投资者来说， ESG整合战略可成为实现这一目标的有效途径。投资主题：碳化硅材料在汽车电动化中的应用即便是在一个特定行业内，我们也可以采取多种形式进行ESG投资与整合。在全球技术领域，市场对更优质可靠的能源管理的需求不断增长，特别是电源管理半导体（电动汽车基本组件）的发展动向，我们非常看好这一领域。虽然电动汽车在不同地区和国家的普及速度差异很大，但在全球范围的销量涨势越发明显。例如，许多欧洲国家已经大幅领先包括美国在内的其他国家。事实上，美国甚至还没有进入全球前15的名单。过去十年来，材料科学的进步推动了新一代碳化硅基半导体的发展，使电动汽车制造商的效率持续提升。
    资料5:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：随着企业寻求第三方解决方案来组织、分析和利用数据，公有云支出占IT总支出的比例在各个行业都有明显上升。事实上，到2023年底，全球公有云服务终端用户支出可达到近6,000亿美元。公共云和私有云的迅速发展，催生了企业将传统工作的相关数据和数据库转移到类似架构的需求。随着完全云架构的数据库供应商出现，我们认为这些新的市场参与者将在后续数十年中在市场上占有一席之地。这也是进入2023年后，我们非常看好的投资主题之一。大趋势：人口结构老龄化近几十年来，得益于一系列医学突破和改进，以及全球许多地区普遍更健康的生活方式，平均预期寿命已延长到70多岁，有的国家甚至达到80多岁。
    资料6:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：过去十年来，材料科学的进步推动了新一代碳化硅基半导体的发展，使电动汽车制造商的效率持续提升。随着这些成果在未来几年逐步巩固，我们预计电动汽车系统的制造成本将进一步降低，购车门槛有望下降，从而助力电动车的普及。在脱碳和数字化的双重主题下，我们预计全球消费者对更环保汽车的需求将因此迎来重大拐点。大趋势：企业数据革命全球数字化作为一项长期大趋势，已经发展了大约20个年头，但我们认为它还有一段漫长的发展历程。企业数据规模正以每年约40%的速度增长，而关键赋能技术的融合，包括云和机器人、人工智能和机器学习、物联网、5G技术，有望成为这一主题在未来一段时间继续推进的有力催化剂。
    资料7:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：对于投资者来说，深入研究将是及早认识和利用全球人口结构变化各种表现的关键。在现代医疗保健行业中，有一个与数字化科技主题重叠的投资机遇，即下一代基因组测序设备的问世。现在，对降低基因组测序成本的日益重视，为以新的模式预防、诊断和治疗心脏病等多种慢性疾病创造了条件。我们相信，现有测序技术领军企业即将推出新平台，以及下一代企业取得的技术发展，应有助于医疗保健领域生命科学子行业在未来实现强劲表现。未来市场，瞬息万变，基于顺应时代趋势的主题投资策略，我们有望在波动的市场中通过科学的数据分析与解读并捕捉投资信号。
    资料8:2023年股票主题投资展望：三大趋势下，投资机遇何在？（发布于2022年12月8日）：而且同等重要的是，建立在严谨的跨领域合作基础上的独特投资流程。我们凭借全球行业分析师和股票研究团队的洞察力，力求尽早发现不同行业的市场拐点及价格脱节，包括科技、金融、工业、医疗保健、能源以及消费品等行业。我们的投资信念在很大程度上依赖于“大趋势”，即我们相信有望从结构上改变全球市场动态、资产定价和21世纪企业成功要素的长期趋势与主题。许多优质的长期成长型公司将受益于一种或多种这样的大趋势。一些公司处于相对有利位置，能够抵御未来12个月以及之后经济放缓的风险。下文将就主要趋势和投资主题展开说明。大趋势：气候变化及ESG整合全球经济各行各业不可避免都会受到气候相关影响。
    资料9:2024年十大投资主题（发布于2024年1月9日）：我们预计 2024 年春斗结果将 是关键，若 2024 年加薪幅度符合预期，预计二季度中下旬日本将解除负利率政策；若结果 显示日本仍未进入工资通胀的正向循环，预计日央行仍将保持偏鸽姿态。随着日央行逐步调整货币政策，关注日债曲线陡峭化趋势和日元升值潜力。日债利率角度， 10 月 31 日日央行允许长期利率在一定范围内超过 1%的上限，10Y-2Y 利差迅速走扩至近 五年来最大值 0.804%。在通胀
    资料10:2024年热点主题概念投资策略研究报告（发布于2024年3月12日）：热点主题概念投资可以分为宏观性主题、事件性主题、制度性主题和产业性主题四大类别，每个类别都有其独特的驱动因素和投资价值。宏观性主题投资关注的是能够促进经济长期发展趋势或短期变化的宏观驱动因素。这些主题如恶性通胀、包容性增长、区域经济振兴、中国城镇化、人民币升值、金砖四国等，反映了全球或特定区域经济的宏观变化趋势。投资者通过分析这些宏观经济因素，可以预测市场趋势，捕捉投资机会。事件性主题投资侧重于某些确定性事件对相关企业资产价值或盈利水平的影响，如迪尼斯、亚运会、世博会、超级病毒、并购重组等。这些事件往往在短期内对市场产生显著影响，为敏锐的投资者提供了快速反应的机会。


    结构化模版：
    以下是一些使答案更加清晰、条理化的典型结构化方式，你可以选用其中一种或多种方式组织答案：
    - 开头简短介绍回答的主题或对问题进行重新陈述。然后详细阐述答案，提供事实、例证或分析。最后以总结性的语句结束，强调答案的要点。
    - 对每个子问题提供一个明确的答案段落，尤其适用于复杂或多部分问题。
    - 因果结构：明确阐述原因和结果，解释事件发生的起因，以及这些原因如何导致特定的结果。
    - 比较和对比结构：当需要比较两个或多个概念、事物时，使用这一结构。分别描述每一项的特点并进行对比。
    - 流程或时间顺序结构：用于描述事件的发展过程或一系列按时间顺序发生的步骤。
    - 问题解决结构：介绍问题，然后详细说明解决问题的方法、步骤或策略。
    - 优缺点（利弊）结构：当回答需要评估某个决策或选择时，列出其正面和负面的影响。
    - 定义和例子结构：给出关键术语的定义，并提供一个或多个例子来阐释。
    - 逻辑推理结构：如果答案需要基于证据或逻辑推理，首先提出假设或前提，然后通过逻辑推导出结论。
    - 列表和子弹点结构：适用于需要列出一系列事实、提示或特点时，使信息更容易扫描和消化。
    - 分类结构：当答案涉及到不同类别或分组时，可以使用分类结构。首先介绍总体概念，然后根据特定的标准或属性将信息分为不同的类别，每个类别详细说明其特征和相关信息。
    - 主题和变化结构：适用于描述一个核心主题并探讨其不同的变体或改变的情况。这种结构有助于突出核心概念的多样性和应用范围。
    - 案例研究结构：通过详细描述一个或多个具体例子或实际案例，来阐释更广泛的概念或理论。这种方式有助于读者通过具体实例理解抽象概念。
    - 层次结构：将信息按重要性或逻辑顺序排列成不同层级。通常从最重要或最基本的概念开始，逐渐过渡到更详细或特定的信息。
    - 议题和反议结构：在讨论有争议或多种观点的主题时使用。首先提出一个议题，然后列出支持和反对这一议题的观点或论据，有助于展示全面的视角。

    在结构化答案时，还应该注意以下几点以增加清晰度和符合人类偏好：
    （1）使用简洁明了的语言。
    （2）避免不必要的术语或专业词汇，除非它们对理解答案至关重要。
    （3）用段落划分不同的思想或概念。
    （4）确保连贯性和逻辑性流畅。以问题为导向，非直接回答问题的部分不要放在答案中。
    （5）确保答案直接且准确地解答了提出的问题，没有问题无关的内容。
    （6）除非问题很简单，否则尽量输出结构化的Markdown格式的回答。在结构化的文本中，对于需要强调的关键字词，请务必选择上述列出的结构化模版，输出Markdown格式的结构化文本。

    另外遵循以下要求：
    （一）回答结果尽可能的信息完整，对问题中的关键信息直接对应，并且结构化回答的每个子项也要充分进行回答，避免短小、表述过于假大空的段落。
    （二）生成问题答案时，信息组织的结构对于清晰性和可读性至关重要。
    （三）由于参考资料是从各种素材文章中摘取的片段，不必参考其样板格式和表述不当的地方。
    （四）需要注意今天的日期是2024年11月04日，如果问题中含有相对时间的描述，则以当前时间点作为基准。
    （五）不要在回答中提及资料的存在，不要打印出‘根据提供的资料’和‘资料中提到’等等这一类描述。
    你需要按照以下格式回复(记得带上“[回答]:”)：

    #######
    [回答]: ...
    ########""", model_name="gpt-4o", n=1, temperature=0, timeout=10, is_stream=True)
    for i, res_i in enumerate(res):
        if i == 0:
            print(time.time() - init_time)
        print(res_i, end='')
    dialog = Dialogue()
    dialog.add_conversation("user", "给我讲个故事")
    dialog.add_conversation("assistant", "从前有个山，山里有个庙，庙里有个小和尚在睡觉")
    dialog.add_conversation("user", "此时来了一只蓝色魔法小猴子，然后，")
    res_dislog = llm_call(dialog, model_name="gpt-4o", n=3, temperature=0.0, task_name="test_llm")
    print("res_dislog: ", res_dislog)
    res_dislog_stream = llm_call(dialog, model_name="gpt-4o", n=3, temperature=0.0, is_stream=True, task_name="test_llm")
    print("res_dislog_stream: ")
    for generator in res_dislog_stream:
        print(generator, end="")

    res_dislog = llm_call(dialog, model_name="memory_72b_0807sft_vllm", n=3, temperature=0.2,
                          task_name="test_llm")
    print("qwen2_72B_SFT_0807_166398_vllm_dianxinres_dislog: ", res_dislog)
    res_dislog_stream = llm_call(dialog, model_name="qwen2_72b_vllm", n=3, temperature=0.2,
                                 is_stream=True, task_name="test_llm")
    print("qwen2_72B_SFT_0807_166398_vllm_dianxinres_dislog_stream: ")
    for generator in res_dislog_stream:
        print(generator, end="")
    
    # query = "请进行自我介绍。"
    # for k, v in CommonConfig["MODEL_CONFIG"].items():
    #     if k not in ("direct_url", "forward_url", "stream_url", "retry_time"):
    #         res = llm_call(query=query, model_name=k, n=2, use_beam_search=True)
    #         print(res)
   
    